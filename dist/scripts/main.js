"use strict";function Product(t,r){var c=this;this.el=t,this.ethic=r,this.name=t.find("h4").text(),this.addToCart=function(){cart.counter=1,$(this).text("Item in Cart"),$(".current-cart").append('<li id="'+c.id+'" class="product-in-cart">'+c.name+"</li>"),t.off("click.cart"),cart.updateScores(c)},this.notInCart=function(){t.find("button").text("Add to Cauldron"),t.on("click.cart",".cart",this.addToCart)},this.el.on("click.cart",".cart",this.addToCart)}$(document).ready(function(){var t=0,r=0,c=0,o=function(){$("#number").text(t)},e=function(){var r=$(this).parent("div").find("h4").text(),c=$(this);t++,o(),c.text("Item in Cart"),$(".current-cart").append('<li class="product-in-cart">'+r+"</li>"),c.removeClass("cart")},a=function(){var r=$(this).text(),c=$(".product").find("h4:contains("+r+")");console.log(c),t--,$(this).remove(),o(),c.parent("div").find("button").addClass("cart").text("Add Item to Cart")},n=function(){c||r||console.log("You haven't selected any products")},d=function(){var t=$(this).parent("div").find(".legend"),r=$(this).parent("div").find("img");r.toggleClass("op"),t.toggleClass("invisible")};$(".product").on("click.cart",".cart",e),$(".current-cart").on("click.product",".product-in-cart",a),$(".product").on("click.showImage","img",d),$("#results").on("click.calcScore",".calc-score",n)});var cart={scoreGood:0,scoreBad:0,counter:0,removeFromCart:function(){var t=$(this).text();$(this).remove(),cart.counter=-1;for(var r=0;r<productArray.length;r++)if(productArray[r].name===t){var c=productArray[r];cart.updateScores(c),c.notInCart()}},updateScores:function(t){"good"===t.ethic?cart.scoreGood=cart.scoreGood+cart.counter:cart.scoreBad=cart.scoreBad+cart.counter,$("#number").text(cart.scoreGood+cart.scoreBad)},calcFinalScore:function(t){t.stopPropagation(),cart.scoreGood+cart.scoreBad<3?$(".error").removeClass("hide"):($("#results h3").toggleClass("hide"),$(".calc-score").addClass("hide"),$(".error").addClass("hide"),cart.disableClicks(),cart.scoreGood>cart.scoreBad?$(".results-message").find("div.good").toggleClass("hide"):$(".results-message").find("div.bad").toggleClass("hide"))},disableClicks:function(){$(".product").find("button").remove(),$(".current-cart").off("click")}},productArray=[new Product($("#internationalAid"),"bad"),new Product($("#retirementAge"),"bad"),new Product($("#trident"),"good"),new Product($("#livingWage"),"good"),new Product($("#taxThreshold"),"bad"),new Product($("#houseWarm"),"good"),new Product($("#robinhoodTax"),"good"),new Product($("#subsidiesBanks"),"good"),new Product($("#benefitsCap"),"bad"),new Product($("#taxAvoidance"),"good")];$(document).ready(function(){$("#results").on("click.calcScore",".calc-score",cart.calcFinalScore),$(".current-cart").on("click.removeFromCart",".product-in-cart",cart.removeFromCart)});